<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width" />
    <base href="/" />
    <title>Tasks by user</title>
    <link rel="stylesheet" href="./css/bootstrap.css">

</head>
<body>
    <header>
        <h1>Tasks by user</h1>
    </header>
    <main class="container mt-5">
        <div class="card border-0 shadow-lg" style="border-radius: 15px; background-color: #41464b">
            <div class="card-body">
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th scope="col">Task No.</th>
                        <th scope="col">Title</th>
                        <th scope="col">Due date</th>
                        <th scope="col">Description</th>
                        <th scope="col">Time estimate</th>
                        <th scope="col">Tags</th>
                        <th scope="col">Status</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- Table rows will go here -->
                    </tbody>
                </table>
            </div>
        </div>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sample data
            var data = [
                { col1: '1', col2: 'Create design', col3: '2023-12-13 12:00', col4: 'We need a design that we can discuss around...', col5: '2', col6: 'Design, CoOp', col7: 'ToDo' },
                { col1: '2', col2: 'Apply design', col3: '2023-12-18 12:00', col4: 'Implement the design', col5: '3', col6: 'Design', col7: 'In progress' },
            ];

            // Get the table body
            var tbody = document.querySelector('tbody');

            // Populate the table
            data.forEach(function(rowData) {
                const row = document.createElement('tr');

                // Loop through the data object properties
                for (let key in rowData) {
                    const cell = document.createElement('td');
                    if(key === 'col7'){
                        var textContentSpan = document.createElement('span');
                        textContentSpan.textContent = rowData[key];
                        if(textContentSpan.textContent === 'In progress'){
                            textContentSpan.classList.add('inProgress')
                        }else if(textContentSpan.textContent === 'ToDo'){
                            textContentSpan.classList.add('toDo')
                        }else if(textContentSpan.textContent === 'Done'){
                            textContentSpan.classList.add('done')
                        }else if(textContentSpan.textContent === 'Ready for test'){
                            textContentSpan.classList.add('readyForTest')
                        }else if(textContentSpan.textContent === 'Blocked'){
                            textContentSpan.classList.add('blocked')
                        }else if(textContentSpan.textContent === 'Code review'){
                            textContentSpan.classList.add('codeReview')
                        }

                        cell.appendChild(textContentSpan);
                    }else{
                        cell.textContent = rowData[key];
                    }
                    if(key !== 'col2' && key !== 'col4'){
                        cell.classList.add('text-center');
                    }
                    row.appendChild(cell);
                }

                // Append the row to the table body
                tbody.appendChild(row);
            });
        });
    </script>

    <style>
        .inProgress {
            background-color: #198754;
            padding: 10px;
            border-radius: 8px;
            color: whitesmoke;
        }
        .readyForTest {
            background-color: yellow;
            padding: 10px;
            border-radius: 8px;
        }
        .toDo {
            background-color: #0dcaf0;
            padding: 10px;
            border-radius: 8px;
        }
        .blocked {
            background-color: red;
            padding: 10px;
            border-radius: 8px;
            color: whitesmoke;
        }
        .codeReview {
            background-color: mediumaquamarine;
            padding: 10px;
            border-radius: 8px;
        }
        .done {
            background-color: springgreen;
            padding: 10px;
            border-radius: 8px;
        }
    </style>
</body>
</html>